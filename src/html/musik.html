<audio id="audiofile" ontimeupdate="initProgressBar()">
    <source id="audioSource" src="/home/nakama/WORK/Electron/mbg/files/Satu-Satunya-Harapan.mp3" type="audio/mp3">
</audio><br>
<script src="../js/musik.js"></script>

<script>
    load_musik();
    var list_lagu = document.getElementById('list-lagu');

    var audioSync = require('audio-sync-with-text');
    var app = require('electron').remote.app;
    //init:
    lib = new audioSync({
        audioPlayer: 'audiofile', // the id of the audio tag
        subtitlesContainer: 'lirik-lagu', // the id where subtitles should show
        subtitlesFile: app.getAppPath() + '/files/Satu-Satunya-Harapan.vtt' // the path to the vtt file
    });
   
    list_lagu.onclick = function (e) {
        e.preventDefault();

        var elm = e.target;
        var audio = document.getElementById('audiofile');

        var source = document.getElementById('audioSource');
        source.src = elm.getAttribute('path_lagu');

        audio.load(); //call this to just preload the audio without playing
        lib.subtitlesFile = elm.getAttribute('path_lirik');
    };

    $('#plus-font-size').bind('click', function () {
        var size = parseInt($("#lirik-lagu").css('font-size'));
        size += 2;
        $('#lirik-lagu').css("font-size", size + "px");
    });
    $('#minus-font-size').bind('click', function () {
        var size = parseInt($("#lirik-lagu").css('font-size'));
        size -= 2;
        $('#lirik-lagu').css("font-size", size + "px");
    });

    var player = document.getElementById('audiofile');
    player.volume = 0.5;

    function load_musik() {
        var sql = 'select * from `m_lagu`';
        database.query(sql, function (error, results, fields) {
            if (error) console.log(error.code);
            else {
                var html = '';
                var app = require('electron').remote.app;
                results.forEach(function (lagu) {
                    html += "<li><a href='#' path_lagu='" + app.getAppPath() + '' + lagu.path_lagu + "' path_lirik='" + app.getAppPath() + '' + lagu.path_lirik + "' class='list-group-item list-group-item-action'>" + lagu.judul + "</a></li>";
                });
                $('#list-lagu').html(html);
            }
        });
    }
</script>
<ul class="list-group" id="list-lagu"></ul>
<div class="row bg-primary">
    <div class="col-1" id="action-list-ayat">
        <button type="button" class="btn btn-default btn-sm" id="plus-font-size" style="margin-bottom:5px;margin-top:5px; font-size:15pt;"
            title="Perbesar">A<sup><span class="fa fa-plus"></span></sup></button>
        <button type="button" class="btn btn-default btn-sm" id="minus-font-size" style="margin-bottom:5px; font-size:15pt;"
            title="Perkecil">A<sup><span class="fa fa-minus"></span></sup></button>
    </div>
    <div class="col-11" id="lirik-lagu"> </div>
</div>